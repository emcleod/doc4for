<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% if is_index %}Module Index{% else %}{{ module_data.module_name }}{% endif %}</title>
  <link rel="stylesheet" href="../static/css/styles.css">
</head>

<body>
    <nav>
        <div class="menu-toggle">&#9776;</div>
        <ul class="menu">
          <li><a href="../index.html">File View</a></li>
          <li><a href="module_index.html">Module View</a></li>
        </ul>
      </nav>

  <main>
    <aside class="sidebar">
      <nav>
        <ul>
          {% for module_name in module_names %}
            <li><a href="{{ module_name }}.html">{{ module_name }}</a></li>
          {% endfor %}
        </ul>
      </nav>
    </aside>

    <article class="content">
      {% if is_index %}
        <h1>Module Index</h1>
        <p>{{ content_data }}</p>
      {% else %}
        <h1>Module {{ module_data.module_name }}</h1>
        <p class="file-name">Defined in: 
          <a href="../{{ module_data.file_name.split('.')[0] }}.html">{{ module_data.file_name }}</a>
        </p>
        <p class="module-description">{{ module_data.module_description }}</p>
      {% endif %}
    </article>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const menuToggle = document.querySelector('.menu-toggle');
      const menu = document.querySelector('.menu');
      const menuItems = document.querySelectorAll('.menu a');
    
      // Toggle menu when hamburger icon is clicked
      menuToggle.addEventListener('click', () => {
        menu.classList.toggle('active');
      });
    
      // Close menu when a menu item is clicked
      menuItems.forEach(item => {
        item.addEventListener('click', (event) => {
          event.stopPropagation(); // Prevent event from bubbling up to document
          menu.classList.remove('active');
        });
      });
    
      // Close menu when clicking outside
      document.addEventListener('click', (event) => {
        if (!event.target.closest('.menu') && !event.target.closest('.menu-toggle')) {
          menu.classList.remove('active');
        }
      });
    });
    </script>
  </body>

</html>
